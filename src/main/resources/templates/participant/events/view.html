<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${event.title} + ' - Event Details'">Event Details</title>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1, user-scalable=no" name="viewport"/>
    <link rel="stylesheet" th:href="@{/css/home/main.css}"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
</head>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <div id="main">
        <div class="inner">

            <!-- Header -->
            <header id="header">
                <a class="logo" th:href="@{/}"><strong>EventSphere</strong> - Event Details</a>
            </header>

            <!-- Back Button -->
            <a class="button small icon solid fa-arrow-left" href="#" onclick="window.history.back()"
               style="margin-bottom:1.5em;">
                Back to Events
            </a>

            <!-- Event Header -->
            <section>
                <header class="major">
                    <h2 th:text="${event.title}">Event Title</h2>
                    <p>
                        <span class="icon solid fa-tag"></span>
                        <span th:text="${event.category}"></span>
                    </p>
                </header>

                <div class="row gtr-200">
                    <!-- Main Content -->
                    <div class="col-8 col-12-medium">
                        <!-- Event Image -->
                        <span class="image fit">
                            <img alt="Event image"
                                 th:src="${event.imageUrl != null ? event.imageUrl : '/images/event-placeholder.jpg'}"/>
                        </span>

                        <!-- Description -->
                        <h3>About This Event</h3>
                        <p th:utext="${#strings.replace(
                            #strings.escapeXml(event.description),
                            T(java.lang.System).getProperty('line.separator'), '&lt;br/&gt;')}">
                        </p>

                        <!-- Event Details -->
                        <h3>Event Details</h3>
                        <ul>
                            <li>
                                <strong><i class="fas fa-calendar-alt"></i> Date & Time:</strong>
                                <span th:text="${#temporals.format(event.startDate, 'EEEE, MMMM d, yyyy')}"></span>,
                                <span th:text="${#temporals.format(event.startDate, 'h:mm a')} + ' - ' +
                                               ${#temporals.format(event.endDate, 'h:mm a')}"></span>
                            </li>
                            <li>
                                <strong><i class="fas fa-map-marker-alt"></i> Location:</strong>
                                <span th:if="${event.venue != null}" th:text="${event.venue.name}"></span>
                                <span th:unless="${event.venue != null}">Venue not specified</span>
                            </li>
                            <li>
                                <strong><i class="fas fa-user"></i> Organizer:</strong>
                                <span th:text="${event.organizer.username}"></span>
                            </li>
                            <li th:if="${eventSeating != null}">
                                <strong><i class="fas fa-chair"></i> Seating:</strong>
                                <span th:text="${eventSeating.seatingType}"></span> â€“
                                <span style="color:green;" th:if="${eventSeating.availableSeats > 0}"
                                      th:text="${eventSeating.availableSeats} + ' seats available'"></span>
                                <span style="color:red;" th:unless="${eventSeating.availableSeats > 0}">Sold Out</span>
                            </li>
                        </ul>
                    </div>

                    <!-- Sidebar -->
                    <div class="col-4 col-12-medium">
                        <!-- Register -->
                        <ul class="actions stacked">
                            <li>
                                <a class="button primary icon solid fa-ticket" href="#">Register Now</a>
                            </li>
                            <li>
                                <a class="button icon solid fa-share" href="#">Share</a>
                            </li>
                            <li>
                                <a class="button icon solid fa-bookmark" href="#">Save</a>
                            </li>
                        </ul>

                        <!-- Organizer -->
                        <h3>Organizer</h3>
                        <p>
                            <i class="fas fa-user-circle"></i>
                            <span th:text="${event.organizer.username}"></span>
                        </p>
                        <a class="button small icon solid fa-envelope" href="#">Contact Organizer</a>

                        <!-- Share -->
                        <h3 style="margin-top:1.5em;">Share With Friends</h3>
                        <ul class="icons">
                            <li><a class="icon brands fa-facebook-f" href="#"><span class="label">Facebook</span></a>
                            </li>
                            <li><a class="icon brands fa-twitter" href="#"><span class="label">Twitter</span></a></li>
                            <li><a class="icon brands fa-linkedin" href="#"><span class="label">LinkedIn</span></a></li>
                            <li><a class="icon solid fa-link" href="#"><span class="label">Copy Link</span></a></li>
                        </ul>

                        <!-- Tags -->
                        <h3>Tags</h3>
                        <p>
                            <span style="display:inline-block; margin:0.25em; padding:0.4em 0.6em; background:#f2f2f2; border-radius:6px;"
                                  th:each="tag : ${#strings.arraySplit(event.category, ',')}"
                                  th:text="${#strings.trim(tag)}">
                            </span>
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Sidebar -->
    <div th:replace="~{layout/sidebar-layout :: sidebar}"></div>

</div>

<!-- Scripts -->
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/browser.min.js}"></script>
<script th:src="@{/js/breakpoints.min.js}"></script>
<script th:src="@{/js/util.js}"></script>
<script th:src="@{/js/main.js}"></script>

</body>
</html>
